<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

<div id="id">lalala</div>

<script>
    // 初始化一个 WebSocket 对象
    var ws = null;
    if('WebSocket' in window){
        ws=new WebSocket("ws://localhost:8080/testWebSocket");
    }else{
        alert('Not support websocket')
    }

    // 建立 web socket 连接成功触发事件
    ws.onopen=function () {
        ws.send("发送数据");
    }

    // 接收服务端数据时触发事件
    ws.onmessage=function (message) {
        var received_message=message.data;
//                $("p").html(received_msg);
        document.getElementById("id").innerHTML=received_message;
    }

    // 断开 web socket 连接成功触发事件
    ws.onclose = function () {
//        $("p").html("连接已关闭...");
        document.getElementById("id").innerHTML="连接已关闭...";


    };
</script>

</body>
</html>